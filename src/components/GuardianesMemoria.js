import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
// src/components/GuardianesMemoria.tsx
import { useState, useEffect } from 'react';
import { motion, AnimatePresence } from 'framer-motion';
import { X, Shield, Bell, Clock, Eye, PlusCircle, BookOpen, HistoryIcon, UserCheck } from 'lucide-react';
import { getMemoryHistory, getRecentChanges, getUserSubscriptions, addSubscription } from '../utils/memoryHistory';
import { memoryLocations } from '../utils/mapHelpers';
import { colombiaRegions } from '../data/regions';
const GuardianesMemoria = ({ isOpen, onClose, userId = "user1" // Usuario de prueba por defecto
 }) => {
    // Estados
    const [activeTab, setActiveTab] = useState('cambios');
    const [recentChanges, setRecentChanges] = useState([]);
    const [userSubscription, setUserSubscription] = useState(null);
    const [locationHistory, setLocationHistory] = useState([]);
    const [selectedLocationId, setSelectedLocationId] = useState("");
    // Estado para formulario de suscripción
    const [newSubscription, setNewSubscription] = useState({
        locations: [],
        regions: [],
        departments: [],
        notificationPreference: 'weekly'
    });
    // Cargar datos iniciales
    useEffect(() => {
        if (isOpen) {
            // Cargar cambios recientes
            setRecentChanges(getRecentChanges(30)); // últimos 30 días
            // Cargar suscripciones del usuario
            const subscription = getUserSubscriptions(userId);
            setUserSubscription(subscription);
            // Si hay un usuario con suscripción, pre-cargar sus preferencias
            if (subscription) {
                setNewSubscription({
                    locations: subscription.locationIds,
                    regions: subscription.regionIds,
                    departments: subscription.departmentIds,
                    notificationPreference: subscription.notificationPreference
                });
            }
        }
    }, [isOpen, userId]);
    // Cargar historial para una ubicación específica
    useEffect(() => {
        if (selectedLocationId) {
            setLocationHistory(getMemoryHistory(selectedLocationId));
        }
        else {
            setLocationHistory([]);
        }
    }, [selectedLocationId]);
    // Manejadores
    const handleLocationSelect = (event) => {
        setSelectedLocationId(event.target.value);
    };
    const handleAddSubscription = () => {
        if (!userSubscription) {
            // Crear nueva suscripción
            addSubscription({
                userId,
                userName: "Usuario de Prueba",
                email: "usuario@example.com",
                locationIds: newSubscription.locations,
                regionIds: newSubscription.regions,
                departmentIds: newSubscription.departments,
                notificationPreference: newSubscription.notificationPreference
            });
            // Actualizar estado local
            setUserSubscription(getUserSubscriptions(userId));
        }
        else {
            // En una implementación real, aquí actualizaríamos la suscripción existente
            alert("Funcionalidad de actualizar suscripción (simulada)");
        }
    };
    // Formatear fecha
    const formatDate = (timestamp) => {
        return new Date(timestamp).toLocaleString('es-CO', {
            day: '2-digit',
            month: '2-digit',
            year: 'numeric',
            hour: '2-digit',
            minute: '2-digit'
        });
    };
    return (_jsx(AnimatePresence, { children: isOpen && (_jsx(motion.div, { className: "fixed inset-0 z-50 flex items-start justify-center overflow-auto py-10 bg-black/70", initial: { opacity: 0 }, animate: { opacity: 1 }, exit: { opacity: 0 }, onClick: onClose, children: _jsxs(motion.div, { className: "relative bg-gray-500/30 backdrop-blur-xl rounded-lg shadow-xl w-full max-w-4xl mx-4 my-4 border border-white/10 flex flex-col", initial: { scale: 0.9, y: 10 }, animate: { scale: 1, y: 0 }, exit: { scale: 0.9, y: 10 }, onClick: e => e.stopPropagation(), children: [_jsxs("div", { className: "flex items-center justify-between p-4 border-b border-gray-700/50", children: [_jsxs("div", { className: "flex items-center gap-2", children: [_jsxs("div", { className: "relative", children: [_jsx(Shield, { className: "h-6 w-6 text-amber-400" }), _jsx("span", { className: "absolute -top-1 -right-1 bg-amber-500 h-2.5 w-2.5 rounded-full animate-pulse" })] }), _jsx("h2", { className: "text-xl font-medium text-white", children: "Guardianes de la Memoria" }), _jsxs("span", { className: "bg-amber-500/20 text-amber-300 text-xs px-2 py-0.5 rounded-full border border-amber-500/30 flex items-center", children: [_jsxs("svg", { xmlns: "http://www.w3.org/2000/svg", width: "12", height: "12", viewBox: "0 0 24 24", fill: "none", stroke: "currentColor", strokeWidth: "2", strokeLinecap: "round", strokeLinejoin: "round", children: [_jsx("circle", { cx: "12", cy: "12", r: "10" }), _jsx("path", { d: "m12 16 4-4-4-4" }), _jsx("path", { d: "m8 12 4 4 4-4" })] }), _jsx("span", { className: "ml-1", children: "Versi\u00F3n 1.0" })] })] }), _jsx("button", { onClick: onClose, className: "text-gray-400 hover:text-white transition-colors bg-white/5 hover:bg-white/10 rounded-full p-1", children: _jsx(X, { size: 20 }) })] }), _jsxs("div", { className: "p-4 bg-gray-500/10", children: [_jsx("p", { className: "text-gray-300 text-sm", children: "El programa \"Guardianes de la Memoria\" permite a las comunidades y organizaciones monitorear cambios en los lugares de memoria, recibir alertas sobre actualizaciones y garantizar la protecci\u00F3n digital del patrimonio documental." }), _jsxs("div", { className: "grid grid-cols-3 gap-2 mt-3 text-xs text-gray-300 border-t border-gray-700/30 pt-3", children: [_jsxs("div", { className: "flex flex-col items-center text-center gap-1 bg-black/20 rounded-lg p-2", children: [_jsx("div", { className: "bg-amber-500/20 p-2 rounded-full", children: _jsx(Bell, { size: 18, className: "text-amber-400" }) }), _jsx("span", { className: "font-medium", children: "Recibe alertas" }), _jsx("span", { className: "text-gray-400 text-[10px]", children: "Notificaciones de cambios" })] }), _jsxs("div", { className: "flex flex-col items-center text-center gap-1 bg-black/20 rounded-lg p-2", children: [_jsx("div", { className: "bg-amber-500/20 p-2 rounded-full", children: _jsx(HistoryIcon, { size: 18, className: "text-amber-400" }) }), _jsx("span", { className: "font-medium", children: "Revisa cambios" }), _jsx("span", { className: "text-gray-400 text-[10px]", children: "Ver historial completo" })] }), _jsxs("div", { className: "flex flex-col items-center text-center gap-1 bg-black/20 rounded-lg p-2", children: [_jsx("div", { className: "bg-amber-500/20 p-2 rounded-full", children: _jsx(UserCheck, { size: 18, className: "text-amber-400" }) }), _jsx("span", { className: "font-medium", children: "Protege tu memoria" }), _jsx("span", { className: "text-gray-400 text-[10px]", children: "Control comunitario" })] })] })] }), _jsxs("div", { className: "flex border-b border-gray-700/50", children: [_jsxs("button", { className: `flex items-center gap-1 px-4 py-3 text-sm font-medium transition-colors ${activeTab === 'cambios' ? 'text-white border-b-2 border-amber-400' : 'text-gray-400 hover:text-white hover:bg-white/5'}`, onClick: () => setActiveTab('cambios'), children: [_jsx(Clock, { size: 16 }), "Cambios Recientes"] }), _jsxs("button", { className: `flex items-center gap-1 px-4 py-3 text-sm font-medium transition-colors ${activeTab === 'suscripciones' ? 'text-white border-b-2 border-amber-400' : 'text-gray-400 hover:text-white hover:bg-white/5'}`, onClick: () => setActiveTab('suscripciones'), children: [_jsx(Bell, { size: 16 }), "Suscripciones"] }), _jsxs("button", { className: `flex items-center gap-1 px-4 py-3 text-sm font-medium transition-colors ${activeTab === 'historial' ? 'text-white border-b-2 border-amber-400' : 'text-gray-400 hover:text-white hover:bg-white/5'}`, onClick: () => setActiveTab('historial'), children: [_jsx(HistoryIcon, { size: 16 }), "Historial Completo"] })] }), _jsxs("div", { className: "p-4 overflow-y-auto flex-grow", children: [activeTab === 'cambios' && (_jsxs("div", { className: "space-y-4", children: [_jsxs("h3", { className: "text-white font-medium mb-2 flex items-center gap-2", children: [_jsx(Clock, { size: 18, className: "text-amber-400" }), "\u00DAltimas actualizaciones en lugares de memoria"] }), recentChanges.length === 0 ? (_jsx("p", { className: "text-gray-400 text-sm py-4", children: "No hay cambios recientes." })) : (_jsx("div", { className: "space-y-3", children: recentChanges.map(change => (_jsxs("div", { className: "bg-black/20 rounded-lg p-3 border border-gray-700/30", children: [_jsxs("div", { className: "flex justify-between items-start", children: [_jsxs("div", { className: "flex items-center gap-1.5", children: [_jsx("div", { className: "bg-amber-500/20 p-1 rounded-full", children: _jsx(Clock, { size: 14, className: "text-amber-400" }) }), _jsx("span", { className: "text-amber-300 text-xs", children: formatDate(change.timestamp) })] }), _jsxs("span", { className: "bg-amber-500/30 text-amber-200 text-xs px-2 py-0.5 rounded-full flex items-center gap-1", children: [_jsxs("svg", { xmlns: "http://www.w3.org/2000/svg", width: "10", height: "10", viewBox: "0 0 24 24", fill: "none", stroke: "currentColor", strokeWidth: "2", strokeLinecap: "round", strokeLinejoin: "round", children: [_jsx("path", { d: "m18 5-3-3H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2" }), _jsx("path", { d: "M8 18h1" }), _jsx("path", { d: "M18.4 9.6a2 2 0 1 1 3 3L17 17l-4 1 1-4Z" })] }), _jsx("span", { children: change.changes.fieldChanged })] })] }), _jsxs("h4", { className: "text-white text-sm mt-2 flex items-center gap-1.5", children: [_jsxs("svg", { xmlns: "http://www.w3.org/2000/svg", width: "14", height: "14", viewBox: "0 0 24 24", fill: "none", stroke: "currentColor", strokeWidth: "2", strokeLinecap: "round", strokeLinejoin: "round", className: "text-amber-400", children: [_jsx("path", { d: "M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z" }), _jsx("circle", { cx: "12", cy: "10", r: "3" })] }), memoryLocations.find(loc => loc.id === change.changes.locationId)?.title ||
                                                            `Lugar ID: ${change.changes.locationId}`] }), _jsxs("div", { className: "mt-3 text-xs grid grid-cols-1 md:grid-cols-2 gap-2", children: [_jsxs("div", { className: "bg-red-900/10 border border-red-900/20 rounded p-2", children: [_jsxs("div", { className: "flex items-center gap-1 text-gray-300 mb-1", children: [_jsxs("svg", { xmlns: "http://www.w3.org/2000/svg", width: "12", height: "12", viewBox: "0 0 24 24", fill: "none", stroke: "currentColor", strokeWidth: "2", strokeLinecap: "round", strokeLinejoin: "round", className: "text-red-400", children: [_jsx("path", { d: "m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" }), _jsx("polyline", { points: "9 22 9 12 15 12 15 22" })] }), _jsx("span", { children: "Valor anterior:" })] }), _jsx("div", { className: "text-gray-300 bg-black/30 p-1.5 rounded break-words text-[11px]", children: change.changes.previousValue || _jsx("em", { className: "text-gray-500", children: "Sin valor previo" }) })] }), _jsxs("div", { className: "bg-green-900/10 border border-green-900/20 rounded p-2", children: [_jsxs("div", { className: "flex items-center gap-1 text-gray-300 mb-1", children: [_jsxs("svg", { xmlns: "http://www.w3.org/2000/svg", width: "12", height: "12", viewBox: "0 0 24 24", fill: "none", stroke: "currentColor", strokeWidth: "2", strokeLinecap: "round", strokeLinejoin: "round", className: "text-green-400", children: [_jsx("path", { d: "m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" }), _jsx("polyline", { points: "9 22 9 12 15 12 15 22" })] }), _jsx("span", { children: "Nuevo valor:" })] }), _jsx("div", { className: "text-gray-300 bg-black/30 p-1.5 rounded break-words text-[11px]", children: change.changes.newValue })] })] }), _jsxs("div", { className: "mt-3 pt-2 border-t border-gray-700/30 flex justify-between items-center", children: [_jsxs("span", { className: "text-gray-400 text-xs flex items-center gap-1", children: [_jsxs("svg", { xmlns: "http://www.w3.org/2000/svg", width: "12", height: "12", viewBox: "0 0 24 24", fill: "none", stroke: "currentColor", strokeWidth: "2", strokeLinecap: "round", strokeLinejoin: "round", className: "text-amber-400", children: [_jsx("path", { d: "M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2" }), _jsx("circle", { cx: "12", cy: "7", r: "4" })] }), change.author] }), _jsxs("span", { className: "text-gray-300 text-xs flex items-center gap-1", children: [_jsx("svg", { xmlns: "http://www.w3.org/2000/svg", width: "12", height: "12", viewBox: "0 0 24 24", fill: "none", stroke: "currentColor", strokeWidth: "2", strokeLinecap: "round", strokeLinejoin: "round", className: "text-amber-400", children: _jsx("path", { d: "M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z" }) }), change.comment] })] })] }, change.id))) }))] })), activeTab === 'suscripciones' && (_jsxs("div", { className: "space-y-4", children: [_jsxs("h3", { className: "text-white font-medium mb-2 flex items-center gap-2", children: [_jsx(Bell, { size: 18, className: "text-amber-400" }), "Gestionar suscripciones y alertas"] }), _jsxs("div", { className: "bg-black/20 rounded-lg p-4 border border-gray-700/30 mb-4", children: [_jsx("div", { className: "absolute -top-2 -right-2 bg-amber-500 text-white text-xs p-1 rounded-full flex items-center justify-center shadow-lg", children: _jsxs("svg", { xmlns: "http://www.w3.org/2000/svg", width: "12", height: "12", viewBox: "0 0 24 24", fill: "none", stroke: "currentColor", strokeWidth: "2", strokeLinecap: "round", strokeLinejoin: "round", children: [_jsx("path", { d: "M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9" }), _jsx("path", { d: "M10.3 21a1.94 1.94 0 0 0 3.4 0" })] }) }), userSubscription ? (_jsxs("div", { children: [_jsxs("h4", { className: "text-white text-sm flex items-center gap-1.5", children: [_jsx(UserCheck, { size: 16, className: "text-amber-400" }), "Suscripci\u00F3n actual"] }), _jsxs("div", { className: "mt-3 grid grid-cols-1 md:grid-cols-2 gap-4", children: [_jsxs("div", { children: [_jsx("h5", { className: "text-gray-300 text-xs font-medium mb-1.5", children: "Lugares espec\u00EDficos:" }), _jsx("div", { className: "text-gray-400 text-xs bg-black/30 p-2 rounded h-20 overflow-y-auto", children: userSubscription.locationIds.length > 0 ? (_jsx("ul", { className: "list-disc list-inside", children: userSubscription.locationIds.map(locId => (_jsx("li", { children: memoryLocations.find(l => l.id === locId)?.title || locId }, locId))) })) : (_jsx("p", { className: "text-gray-500 italic", children: "Sin suscripciones a lugares espec\u00EDficos" })) })] }), _jsxs("div", { children: [_jsx("h5", { className: "text-gray-300 text-xs font-medium mb-1.5", children: "Regiones:" }), _jsx("div", { className: "text-gray-400 text-xs bg-black/30 p-2 rounded h-20 overflow-y-auto", children: userSubscription.regionIds.length > 0 ? (_jsx("ul", { className: "list-disc list-inside", children: userSubscription.regionIds.map(regionId => (_jsx("li", { children: colombiaRegions[regionId]?.name || regionId }, regionId))) })) : (_jsx("p", { className: "text-gray-500 italic", children: "Sin suscripciones a regiones" })) })] })] }), _jsxs("div", { className: "mt-3", children: [_jsx("h5", { className: "text-gray-300 text-xs font-medium mb-1.5", children: "Preferencia de notificaci\u00F3n:" }), _jsx("div", { className: "text-gray-400 text-xs bg-black/30 p-2 rounded inline-block", children: userSubscription.notificationPreference === 'immediate' ? 'Inmediata' :
                                                                    userSubscription.notificationPreference === 'daily' ? 'Diaria' : 'Semanal' })] }), _jsx("div", { className: "mt-4 pt-3 border-t border-gray-700/50", children: _jsxs("button", { className: "text-xs px-3 py-1.5 bg-amber-600/30 text-amber-200 rounded-md hover:bg-amber-600/50 transition-colors flex items-center gap-1", children: [_jsx(Eye, { size: 14 }), "Editar suscripci\u00F3n"] }) })] })) : (_jsxs("div", { children: [_jsxs("h4", { className: "text-white text-sm flex items-center gap-1.5", children: [_jsx(PlusCircle, { size: 16, className: "text-amber-400" }), "Crear nueva suscripci\u00F3n"] }), _jsxs("div", { className: "mt-3 space-y-4", children: [_jsxs("div", { children: [_jsx("label", { className: "text-gray-300 text-xs font-medium mb-1.5 block", children: "Selecciona lugares espec\u00EDficos:" }), _jsx("select", { className: "w-full bg-black/30 text-gray-300 text-xs p-2 rounded border border-gray-700/30 focus:outline-none focus:border-amber-500", multiple: true, size: 3, onChange: (e) => {
                                                                            const selectedOptions = Array.from(e.target.selectedOptions, option => option.value);
                                                                            setNewSubscription({ ...newSubscription, locations: selectedOptions });
                                                                        }, children: memoryLocations.map(location => (_jsxs("option", { value: location.id, children: [location.title, " (", location.code, ")"] }, location.id))) })] }), _jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4", children: [_jsxs("div", { children: [_jsx("label", { className: "text-gray-300 text-xs font-medium mb-1.5 block", children: "Selecciona regiones:" }), _jsx("select", { className: "w-full bg-black/30 text-gray-300 text-xs p-2 rounded border border-gray-700/30 focus:outline-none focus:border-amber-500", multiple: true, size: 3, onChange: (e) => {
                                                                                    const selectedOptions = Array.from(e.target.selectedOptions, option => option.value);
                                                                                    setNewSubscription({ ...newSubscription, regions: selectedOptions });
                                                                                }, children: Object.entries(colombiaRegions).map(([id, region]) => (_jsx("option", { value: id, children: region.name }, id))) })] }), _jsxs("div", { children: [_jsx("label", { className: "text-gray-300 text-xs font-medium mb-1.5 block", children: "Preferencia de notificaci\u00F3n:" }), _jsxs("select", { className: "w-full bg-black/30 text-gray-300 text-xs p-2 rounded border border-gray-700/30 focus:outline-none focus:border-amber-500", value: newSubscription.notificationPreference, onChange: (e) => {
                                                                                    setNewSubscription({
                                                                                        ...newSubscription,
                                                                                        notificationPreference: e.target.value
                                                                                    });
                                                                                }, children: [_jsx("option", { value: "immediate", children: "Inmediata" }), _jsx("option", { value: "daily", children: "Diaria" }), _jsx("option", { value: "weekly", children: "Semanal" })] })] })] }), _jsx("div", { className: "mt-4 pt-3 border-t border-gray-700/50", children: _jsxs("button", { className: "text-xs px-3 py-1.5 bg-amber-600/30 text-amber-200 rounded-md hover:bg-amber-600/50 transition-colors flex items-center gap-1", onClick: handleAddSubscription, children: [_jsx(Bell, { size: 14 }), "Crear suscripci\u00F3n"] }) })] })] }))] }), _jsxs("div", { className: "bg-black/10 rounded-lg p-3 border border-amber-800/20", children: [_jsxs("div", { className: "flex items-center gap-2 mb-3", children: [_jsx("div", { className: "bg-amber-500/20 p-1.5 rounded-full", children: _jsxs("svg", { xmlns: "http://www.w3.org/2000/svg", width: "16", height: "16", viewBox: "0 0 24 24", fill: "none", stroke: "currentColor", strokeWidth: "2", strokeLinecap: "round", strokeLinejoin: "round", className: "text-amber-400", children: [_jsx("circle", { cx: "12", cy: "12", r: "10" }), _jsx("path", { d: "M12 16v-4" }), _jsx("path", { d: "M12 8h.01" })] }) }), _jsx("h4", { className: "text-white text-sm font-medium", children: "\u00BFC\u00F3mo funcionan las suscripciones?" })] }), _jsxs("div", { className: "grid grid-cols-1 md:grid-cols-3 gap-3", children: [_jsx("div", { className: "bg-black/20 rounded p-2 border border-amber-700/20", children: _jsxs("div", { className: "flex flex-col items-center text-center gap-1", children: [_jsx("div", { className: "bg-amber-500/20 p-1.5 rounded-full", children: _jsx(Bell, { size: 16, className: "text-amber-400" }) }), _jsx("p", { className: "text-amber-300 text-xs font-medium", children: "Alertas personalizadas" }), _jsx("p", { className: "text-gray-400 text-[10px]", children: "Recibe notificaciones sobre cambios en tus lugares" })] }) }), _jsx("div", { className: "bg-black/20 rounded p-2 border border-amber-700/20", children: _jsxs("div", { className: "flex flex-col items-center text-center gap-1", children: [_jsx("div", { className: "bg-amber-500/20 p-1.5 rounded-full", children: _jsx(Eye, { size: 16, className: "text-amber-400" }) }), _jsx("p", { className: "text-amber-300 text-xs font-medium", children: "Vigilancia comunitaria" }), _jsx("p", { className: "text-gray-400 text-[10px]", children: "Verifica la precisi\u00F3n de la informaci\u00F3n" })] }) }), _jsx("div", { className: "bg-black/20 rounded p-2 border border-amber-700/20", children: _jsxs("div", { className: "flex flex-col items-center text-center gap-1", children: [_jsx("div", { className: "bg-amber-500/20 p-1.5 rounded-full", children: _jsx(Shield, { size: 16, className: "text-amber-400" }) }), _jsx("p", { className: "text-amber-300 text-xs font-medium", children: "Protecci\u00F3n colectiva" }), _jsx("p", { className: "text-gray-400 text-[10px]", children: "Control de versiones contra p\u00E9rdida de datos" })] }) })] })] })] })), activeTab === 'historial' && (_jsxs("div", { className: "space-y-4", children: [_jsxs("h3", { className: "text-white font-medium mb-2 flex items-center gap-2", children: [_jsx(BookOpen, { size: 18, className: "text-amber-400" }), "Historial de versiones por lugar"] }), _jsxs("div", { className: "mb-4", children: [_jsx("label", { className: "text-gray-300 text-xs font-medium mb-1.5 block", children: "Selecciona un lugar de memoria:" }), _jsxs("select", { className: "w-full bg-black/30 text-gray-300 text-sm p-2 rounded border border-gray-700/30 focus:outline-none focus:border-amber-500", value: selectedLocationId, onChange: handleLocationSelect, children: [_jsx("option", { value: "", children: "Seleccionar lugar..." }), memoryLocations.map(location => (_jsxs("option", { value: location.id, children: [location.title, " (", location.code, ")"] }, location.id)))] })] }), selectedLocationId ? (locationHistory.length === 0 ? (_jsx("div", { className: "text-center py-6", children: _jsx("p", { className: "text-gray-400 text-sm", children: "No hay cambios registrados para este lugar." }) })) : (_jsx("div", { className: "space-y-4", children: locationHistory.map(entry => (_jsxs("div", { className: "bg-black/20 rounded-lg p-3 border border-gray-700/30", children: [_jsxs("div", { className: "flex justify-between items-start", children: [_jsx("span", { className: "text-amber-300 text-xs", children: formatDate(entry.timestamp) }), _jsxs("span", { className: "bg-amber-500/30 text-amber-200 text-xs px-2 py-0.5 rounded-full", children: ["Campo: ", entry.changes.fieldChanged] })] }), _jsxs("div", { className: "mt-2 text-xs", children: [_jsx("div", { className: "text-gray-400", children: "Valor anterior:" }), _jsx("div", { className: "text-gray-300 bg-black/30 p-1.5 rounded mt-1 break-words", children: entry.changes.previousValue || _jsx("em", { className: "text-gray-500", children: "Sin valor previo" }) }), _jsx("div", { className: "text-gray-400 mt-2", children: "Nuevo valor:" }), _jsx("div", { className: "text-gray-300 bg-black/30 p-1.5 rounded mt-1 break-words", children: entry.changes.newValue })] }), _jsxs("div", { className: "mt-3 pt-2 border-t border-gray-700/30 flex justify-between items-center", children: [_jsxs("span", { className: "text-gray-400 text-xs", children: ["Autor: ", entry.author] }), _jsx("span", { className: "text-gray-300 text-xs", children: entry.comment })] })] }, entry.id))) }))) : (_jsxs("div", { className: "bg-black/10 p-5 rounded-lg", children: [_jsxs("div", { className: "text-center mb-4", children: [_jsx(HistoryIcon, { size: 24, className: "mx-auto text-amber-400 mb-2" }), _jsx("p", { className: "text-gray-300 text-sm font-medium", children: "Selecciona un lugar para ver su historial de cambios" })] }), _jsxs("div", { className: "flex flex-col space-y-2 mt-4 border-t border-gray-700/30 pt-3", children: [_jsx("h5", { className: "text-xs text-amber-300 font-medium", children: "\u00BFC\u00F3mo funciona el historial?" }), _jsxs("div", { className: "flex items-start gap-1.5", children: [_jsx(Clock, { size: 12, className: "text-amber-400 mt-0.5" }), _jsx("p", { className: "text-gray-400 text-xs", children: "Cada modificaci\u00F3n queda registrada con fecha y autor" })] }), _jsxs("div", { className: "flex items-start gap-1.5", children: [_jsx(BookOpen, { size: 12, className: "text-amber-400 mt-0.5" }), _jsx("p", { className: "text-gray-400 text-xs", children: "Puedes comparar versiones anteriores y actuales" })] }), _jsxs("div", { className: "flex items-start gap-1.5", children: [_jsx(Shield, { size: 12, className: "text-amber-400 mt-0.5" }), _jsx("p", { className: "text-gray-400 text-xs", children: "Sistema inspirado en control de versiones Git" })] })] })] }))] }))] }), _jsxs("div", { className: "p-4 border-t border-gray-700/50 bg-gray-500/10", children: [_jsxs("div", { className: "flex flex-col md:flex-row justify-between items-center gap-2", children: [_jsxs("div", { className: "flex items-center gap-2", children: [_jsx("div", { className: "bg-amber-500/20 p-1.5 rounded-full", children: _jsx(Shield, { className: "h-5 w-5 text-amber-400" }) }), _jsx("span", { className: "text-gray-300 text-xs", children: "Sistema de protecci\u00F3n de archivos digitales de memoria" })] }), _jsxs("div", { className: "flex gap-2", children: [_jsxs("button", { className: "text-xs px-3 py-1.5 bg-amber-600/30 text-amber-200 rounded-md hover:bg-amber-600/50 transition-colors flex items-center gap-1", children: [_jsxs("svg", { xmlns: "http://www.w3.org/2000/svg", width: "12", height: "12", viewBox: "0 0 24 24", fill: "none", stroke: "currentColor", strokeWidth: "2", strokeLinecap: "round", strokeLinejoin: "round", children: [_jsx("circle", { cx: "12", cy: "12", r: "10" }), _jsx("path", { d: "M12 16v-4" }), _jsx("path", { d: "M12 8h.01" })] }), "Tutorial"] }), _jsxs("button", { className: "text-xs px-3 py-1.5 bg-amber-600/30 text-amber-200 rounded-md hover:bg-amber-600/50 transition-colors flex items-center gap-1", children: [_jsxs("svg", { xmlns: "http://www.w3.org/2000/svg", width: "12", height: "12", viewBox: "0 0 24 24", fill: "none", stroke: "currentColor", strokeWidth: "2", strokeLinecap: "round", strokeLinejoin: "round", children: [_jsx("path", { d: "M18 6H5a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h13l4-3.5L18 6Z" }), _jsx("path", { d: "M12 13v9" }), _jsx("path", { d: "M12 2v4" })] }), "Reportar problema"] })] })] }), _jsx("div", { className: "mt-3 pt-2 border-t border-gray-700/30 flex items-center justify-center", children: _jsxs("div", { className: "flex gap-4 text-[10px] text-gray-400", children: [_jsxs("span", { className: "flex items-center gap-1", children: [_jsxs("svg", { xmlns: "http://www.w3.org/2000/svg", width: "10", height: "10", viewBox: "0 0 24 24", fill: "none", stroke: "currentColor", strokeWidth: "2", strokeLinecap: "round", strokeLinejoin: "round", className: "text-amber-500", children: [_jsx("rect", { width: "18", height: "18", x: "3", y: "3", rx: "2" }), _jsx("path", { d: "M12 8v8" }), _jsx("path", { d: "M8 12h8" })] }), "Enviar comentarios"] }), _jsxs("span", { className: "flex items-center gap-1", children: [_jsxs("svg", { xmlns: "http://www.w3.org/2000/svg", width: "10", height: "10", viewBox: "0 0 24 24", fill: "none", stroke: "currentColor", strokeWidth: "2", strokeLinecap: "round", strokeLinejoin: "round", className: "text-amber-500", children: [_jsx("path", { d: "M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z" }), _jsx("circle", { cx: "12", cy: "12", r: "3" })] }), "Pol\u00EDtica de privacidad"] }), _jsxs("span", { className: "flex items-center gap-1", children: [_jsxs("svg", { xmlns: "http://www.w3.org/2000/svg", width: "10", height: "10", viewBox: "0 0 24 24", fill: "none", stroke: "currentColor", strokeWidth: "2", strokeLinecap: "round", strokeLinejoin: "round", className: "text-amber-500", children: [_jsx("rect", { width: "18", height: "11", x: "3", y: "11", rx: "2", ry: "2" }), _jsx("path", { d: "M7 11V7a5 5 0 0 1 10 0v4" })] }), "Condiciones de uso"] })] }) })] })] }) })) }));
};
export default GuardianesMemoria;
